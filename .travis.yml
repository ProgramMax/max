# Copyright 2018, The max Contributors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

language: cpp

addons:
  apt:
    sources:
      - ubuntu-toolchain-r-test
        #- llvm-toolchain=trusty-5.0
    packages:
      - g++-6
        #- clang-5.0

matrix:
  include:
    - os: linux
      compiler: clang
      env:
        - PROJECT_DIR="Projects/Clang\ X86\ Make"
    - os: linux
      compiler: clang
      env:
        - PROJECT_DIR="Projects/Clang\ X86-64\ Make"
    - os: linux
      compiler: gcc
      env:
        - PROJECT_DIR="Projects/GCC\ X86\ Make"
    - os: linux
      compiler: gcc
      env:
        - PROJECT_DIR="Projects/GCC\ X86-64\ Make"
    #- os: osx
    #compiler: clang

jobs:
  include:
    - stage: build
      - script: cd ${PROJECT_DIR} && make
    - stage: test
      -  script: ${PROJECT_DIR}/maxAutomatedTests
